<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tienda Ecomarket</title>
    <link rel="stylesheet" href="estilos.css" />
</head>

<body>
    <header>
        <h1>Tienda Ecomarket</h1>
        <nav>
            <a href="#productos">Productos</a>
            <button onclick="togglePanel('carrito')">üõí Carrito</button>
            <button onclick="togglePanel('panelContacto')">üìß Contacto</button>
            <button onclick="togglePanel('panelPedido')">üìù Pedido</button>
        </nav>
    </header>

    <main>
        <section id="productos">
            <h2>Cat√°logo de Productos</h2>
            <div class="catalogo">
                <!-- ‚úÖ PRODUCTOS (no modifiqu√© tu contenido) -->
                <div class="producto">
                    <img src="imagen/aceit6.jpg" alt="Aceite negro" />
                    <h3>Aceite negro</h3>
                    <p>Muy confortable con el tacto y la piel.</p>
                    <span class="precio">5.99</span>
                    <button onclick="agregarAlCarrito('Aceite negro', 5.99)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/chifles.jpg" alt="chifles" />
                    <h3>Chifles</h3>
                    <p>Son ricas y sabrosas de la selva su sabor.</p>
                    <span class="precio">6.50</span>
                    <button onclick="agregarAlCarrito('Chifles', 6.50)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/chmapun.jpg" alt="champun" />
                    <h3>Champun</h3>
                    <p>La mejor para el cabello que dejaras todos con la boca abierta.</p>
                    <span class="precio">7.20</span>
                    <button onclick="agregarAlCarrito('Champun', 7.20)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/chofreco.jpg" alt="chocolate negro ecol√≥gica" />
                    <h3>Chocolate Negro</h3>
                    <p>Chocolate org√°nico desde Chanchamayo.</p>
                    <span class="precio">14.50</span>
                    <button onclick="agregarAlCarrito('Chocolate Negro', 14.50)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/chocolate.jpg" alt="chocolate" />
                    <h3>Chocolate 100% Org√°nico</h3>
                    <p>Tan bueno como vivir en el Per√∫.</p>
                    <span class="precio">21.10</span>
                    <button onclick="agregarAlCarrito('Chocolate 100% Org√°nico', 21.10)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/friutos.jpg" alt="frutos secos" />
                    <h3>Frutos secos</h3>
                    <p>Con el mejor proceso de deshidrataci√≥n.</p>
                    <span class="precio">15.00</span>
                    <button onclick="agregarAlCarrito('Frutos secos', 15.00)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/granada.jpg" alt="granada" />
                    <h3>Granada</h3>
                    <p>El kilo de esta fruta m√°s rica.</p>
                    <span class="precio">25.00</span>
                    <button onclick="agregarAlCarrito('Granada', 25.00)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/quiwi.jpg" alt="Quiwi" />
                    <h3>Quiwi</h3>
                    <p>Fruta llegada de ICA por kilo.</p>
                    <span class="precio">6.80</span>
                    <button onclick="agregarAlCarrito('Quiwi', 6.80)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/semillas.jpg" alt="semillas" />
                    <h3>Semillas</h3>
                    <p>Semillas para maceta con gran valor de crecimiento.</p>
                    <span class="precio">9.90</span>
                    <button onclick="agregarAlCarrito('Semillas', 9.90)">Comprar</button>
                </div>
                <div class="producto">
                    <img src="imagen/tangarina.jpg" alt="Mandarina" />
                    <h3>Tangarina</h3>
                    <p>El kilo de esta hermosa fruta de Chanchamayo.</p>
                    <span class="precio">4.00</span>
                    <button onclick="agregarAlCarrito('Tangarina', 4.00)">Comprar</button>
                </div>
            </div>
        </section>
    </main>

    <!-- üîΩ PANEL DE CONTACTO -->
    <div id="panelContacto" class="panel" aria-hidden="true">
        <button class="cerrar" onclick="cerrarPanel()">‚ùå</button>
        <h2>Contacto</h2>
        <form id="formContacto">
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" required />
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required />
            <label for="mensaje">Mensaje:</label>
            <textarea id="mensaje" name="mensaje" required></textarea>
            <button type="submit">Enviar</button>
        </form>
    </div>

    <!-- üîΩ PANEL DE PEDIDO -->
    <div id="panelPedido" class="panel" aria-hidden="true">
        <button class="cerrar" onclick="cerrarPanel()">‚ùå</button>
        <h2>Haz tu Pedido</h2>
        <form id="formPedido">
            <label for="producto">Producto:</label>
            <select id="producto" name="producto" required>
                <option value="">Selecciona</option>
                <option value="Aceite">Aceite negro</option>
                <option value="chifles">Chifles</option>
                <option value="champun">champun</option>
                <option value="Chocolate-fresco">Chocolate fresco</option>
                <option value="Chocolate">Chocolate</option>
                <option value="frutos-secos">frutos secos</option>
                <option value="Granada">Granada</option>
            </select>
            <label for="cantidad">Cantidad:</label>
            <input type="number" id="cantidad" name="cantidad" min="1" required />
            <label for="direccion">Direcci√≥n de env√≠o:</label>
            <textarea id="direccion" name="direccion" required></textarea>
            <button type="submit">Enviar Pedido</button>
        </form>
    </div>

    <!-- üîΩ PANEL DE CARRITO -->
    <div id="carrito" class="panel" aria-hidden="true">
        <button class="cerrar" onclick="cerrarPanel()">‚ùå</button>
        <h3>Tu Carrito</h3>
        <div class="carrito-items"></div>
        <p class="carrito-total">Total: S/ 0.00</p>
        <button onclick="finalizarCompra()">Finalizar compra</button>
    </div>

    <footer>
        <p>&copy; 2025 Tienda Ecomarket</p>
    </footer>

    <!-- üîΩ SCRIPT FUNCIONAL -->
    <script>
        console.log("‚úÖ Script cargado correctamente");

        let carrito = [];

        function togglePanel(id) {
            const panel = document.getElementById(id);
            const isOpen = panel.classList.contains('active');

            document.querySelectorAll('.panel').forEach(p => {
                p.classList.remove('active');
                p.setAttribute('aria-hidden', 'true');
            });

            if (!isOpen) {
                panel.classList.add('active');
                panel.setAttribute('aria-hidden', 'false');
            }
        }

        function cerrarPanel() {
            document.querySelectorAll('.panel').forEach(p => {
                p.classList.remove('active');
                p.setAttribute('aria-hidden', 'true');
            });
        }

        function agregarAlCarrito(nombre, precio) {
            carrito.push({ nombre, precio });
            actualizarCarrito();
            togglePanel('carrito'); // abre el panel autom√°ticamente
        }

        function eliminarDelCarrito(index) {
            carrito.splice(index, 1);
            actualizarCarrito();
        }

        function actualizarCarrito() {
            const contenedor = document.querySelector('.carrito-items');
            contenedor.innerHTML = '';
            let total = 0;

            carrito.forEach((item, index) => {
                total += item.precio;
                const div = document.createElement('div');
                div.className = 'carrito-item';
                div.innerHTML = `
                    <span>${item.nombre}</span>
                    <div>
                        <span>S/ ${item.precio.toFixed(2)}</span>
                        <button onclick="eliminarDelCarrito(${index})">X</button>
                    </div>
                `;
                contenedor.appendChild(div);
            });

            document.querySelector('.carrito-total').textContent = `Total: S/ ${total.toFixed(2)}`;
        }

        function finalizarCompra() {
            if (carrito.length === 0) {
                alert('Tu carrito est√° vac√≠o.');
                return;
            }
            let resumen = 'Resumen de tu compra:\n\n';
            let total = 0;
            carrito.forEach(item => {
                resumen += `${item.nombre} - S/ ${item.precio.toFixed(2)}\n`;
                total += item.precio;
            });
            resumen += `\nTOTAL: S/ ${total.toFixed(2)}`;
            alert(resumen);
            carrito = [];
            actualizarCarrito();
            cerrarPanel();
        }
    </script>

    <style>
        .panel {
            position: fixed;
            top: 0;
            right: -350px;
            width: 320px;
            height: 100%;
            background: #fff;
            box-shadow: -2px 0 10px rgba(0,0,0,0.18);
            padding: 18px;
            overflow-y: auto;
            transition: right 0.28s ease;
            z-index: 999;
        }
        .panel.active { right: 0; }
        .cerrar {
            position: absolute;
            top: 10px;
            right: 10px;
            background: transparent;
            border: none;
            font-size: 18px;
            cursor: pointer;
        }
        .carrito-item {
            display: flex;
            justify-content: space-between;
            background: #f9f9f9;
            margin-bottom: 8px;
            padding: 6px;
            border-radius: 5px;
        }
    </style>
</body>
</html>


